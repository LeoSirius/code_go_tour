[{"/Users/leo/Github/goki/frontend/src/reportWebVitals.js":"1","/Users/leo/Github/goki/frontend/src/page/home.js":"2","/Users/leo/Github/goki/frontend/src/page/admin/repos.js":"3","/Users/leo/Github/goki/frontend/src/api.js":"4","/Users/leo/Github/goki/frontend/src/page/admin/moddal-update-repo.js":"5","/Users/leo/Github/goki/frontend/src/page/admin/admin.js":"6","/Users/leo/Github/goki/frontend/src/page/toc.js":"7","/Users/leo/Github/goki/frontend/src/util.js":"8","/Users/leo/Github/goki/frontend/src/page/admin/repo-header.js":"9","/Users/leo/Github/goki/frontend/src/page/content.js":"10","/Users/leo/Github/goki/frontend/src/page/header.js":"11","/Users/leo/Github/goki/frontend/src/App.js":"12","/Users/leo/Github/goki/frontend/src/models/admin-repo.js":"13","/Users/leo/Github/goki/frontend/src/index.js":"14","/Users/leo/Github/goki/frontend/src/page/sider.js":"15","/Users/leo/Github/goki/frontend/src/page/login.js":"16"},{"size":362,"mtime":1607322348829,"results":"17","hashOfConfig":"18"},{"size":3251,"mtime":1607583410329,"results":"19","hashOfConfig":"18"},{"size":3473,"mtime":1607322348824,"results":"20","hashOfConfig":"18"},{"size":1842,"mtime":1607592542183,"results":"21","hashOfConfig":"18"},{"size":1896,"mtime":1607322348823,"results":"22","hashOfConfig":"18"},{"size":1083,"mtime":1607322348824,"results":"23","hashOfConfig":"18"},{"size":1191,"mtime":1607584018411,"results":"24","hashOfConfig":"18"},{"size":287,"mtime":1607322348828,"results":"25","hashOfConfig":"18"},{"size":2271,"mtime":1607322348825,"results":"26","hashOfConfig":"18"},{"size":2097,"mtime":1607588470192,"results":"27","hashOfConfig":"18"},{"size":791,"mtime":1607583780359,"results":"28","hashOfConfig":"18"},{"size":796,"mtime":1607591853833,"results":"29","hashOfConfig":"18"},{"size":188,"mtime":1607322348833,"results":"30","hashOfConfig":"18"},{"size":463,"mtime":1607322348832,"results":"31","hashOfConfig":"18"},{"size":1511,"mtime":1607322348826,"results":"32","hashOfConfig":"18"},{"size":1549,"mtime":1607592492086,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"khi1nk",{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/leo/Github/goki/frontend/src/reportWebVitals.js",[],["75","76"],"/Users/leo/Github/goki/frontend/src/page/home.js",["77","78","79"],"\nimport React from 'react';\nimport { Layout } from 'antd';\nimport MyHeader from './header';\nimport MySider from './sider';\nimport MyContent from './content';\nimport TOC from './toc';\nimport api from '../api';\n\nconst { Footer } = Layout;\n\n\nclass Home extends React.Component{\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      repoList: [],\n      curRepoID: 0,\n      curFilePath: 'README.md',\n      direntTree: [],\n      toc: [],\n    };\n  }\n\n  componentDidMount() {\n    api.listRepos().then(res => {\n      this.setState({\n        repoList: res.data.repo_list,\n        curRepoID: res.data.repo_list.length > 0 ? res.data.repo_list[0].id : 0,\n      }, () => {\n        this.updateContent();\n        this.updateDirentTree();\n      })\n    }).catch(e => {\n\n    });\n  }\n\n  updateContent = () => {\n    let { curRepoID, curFilePath } = this.state;\n    api.getRepoFile(curRepoID, curFilePath).then(res => {\n      let newContent = res.data.content;\n      if (!curFilePath.endsWith('.md')) {\n        let tmpArr = curFilePath.split('.');\n        let extention = tmpArr[tmpArr.length-1];\n        newContent = \"```\" + extention + \"\\n\" + newContent + \"\\n```\";\n      }\n      let toc = [];\n      // only render level 2 and 3\n      res.data.toc.filter(item => {\n        return item.level === 2 || item.level === 3;\n      }).map(item => {\n        if (item.level === 2) {\n          let itemWithChildren = item;\n          itemWithChildren.children = [];\n          toc.push(itemWithChildren)\n          return;\n        } else if (item.level === 3) {\n          toc[toc.length-1].children.push(item);\n          return;\n        }\n      })\n\n      this.setState({\n        fileContent: newContent,\n        toc: toc,\n      })\n    });\n  }\n\n  updateDirentTree = () => {\n    let { curRepoID } = this.state;\n    api.getRepoDirentTree(curRepoID).then(res => {\n      this.setState({\n        direntTree: res.data.dirent_tree,\n      })\n    });\n  }\n\n  updateCurFilePath = (newPath) => {\n    console.log('in updateCurFilePath newPath = ', newPath)\n    this.setState({\n      curFilePath: newPath,\n    }, () => {\n      this.updateContent();\n    })\n  }\n\n  updateCurRepoID = (newID) => {\n    this.setState({\n      curRepoID: newID,\n    }, () => {\n      this.updateContent();\n      this.updateDirentTree();\n    })\n  }\n\n\n  render () {\n    let { repoList, curRepoID, fileContent, direntTree, toc } = this.state;\n    return (\n      <Layout>\n        <MyHeader\n          curRepoID={curRepoID}\n          repoList={repoList}\n          updateCurRepoID={this.updateCurRepoID}\n        />\n          <Layout>\n            {curRepoID > 0 &&\n              <MySider\n                updateCurFilePath={this.updateCurFilePath}\n                curRepoID={curRepoID}\n                direntTree={direntTree}\n              />\n            }\n            <Layout style={{ padding: '0 24px 24px' }}>\n              {curRepoID > 0 &&\n                <MyContent\n                  fileContent={fileContent}\n                />\n              }\n            </Layout>\n            {curRepoID > 0 &&\n              <TOC toc={toc}/>\n            } \n          </Layout>\n          <Footer style={{ textAlign: 'center' }}>Ant Design Â©2018 Created by Ant UED</Footer>\n      </Layout>\n      )\n    }\n}\n\n\nexport default Home;",["80","81"],"/Users/leo/Github/goki/frontend/src/page/admin/repos.js",["82","83"],"import React from 'react';\nimport { Table, Space, Layout, notification } from 'antd';\nimport RepoHeader from './repo-header';\n\nimport AdminRepo from '../../models/admin-repo';\nimport ModalUpdateRepo from './moddal-update-repo';\nimport api from '../../api';\nimport util from '../../util';\n\nconst { Column } = Table;\nconst { Content } = Layout;\n\n\nclass Repos extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoList: [],\n      isShowUpdateRepo: false,\n      modalUpdateConfirmLoading: false,\n      repoToUpdate: null,\n    };\n  }\n\n  componentDidMount() {\n    api.adminListRepos(0,0).then(res => {\n      this.setState({\n        repoList: res.data.repo_list.map(item => new AdminRepo(item)),\n      })\n    }).catch(e => {\n      notification.error({message: util.getErrMsg(e)});\n    })\n  }\n\n\n  addRepo = (repo) => {\n    this.setState({repoList: [...this.state.repoList, new AdminRepo(repo)]});\n  }\n\n  deleteRepo = (repo) => {\n    api.adminDeleteRepo(repo.key).then(res => {\n      let newRepoList = this.state.repoList.filter(item => item.key !== repo.key);\n      this.setState({\n        repoList: newRepoList,\n      })\n      notification.success({message: 'repository deleted'});\n    }).catch(e => {\n      console.log(e)\n      notification.error({message: util.getErrMsg(e)});\n    })\n  }\n\n  updateRepo = (id, name, url) => {\n    api.adminUpdateRepo(id, name, url).then(res => {\n      let newRepo = new AdminRepo(res.data);\n      let repos = [...this.state.repoList];\n      repos.forEach(repo => {\n        if (repo.key === id) {\n          repo.name = newRepo.name;\n          repo.url = newRepo.url;\n        }\n      })\n      this.setState({\n        repoList:repos,\n        isShowUpdateRepo: false,\n        modalUpdateConfirmLoading: false,\n      })\n      notification.success({message: 'repository updated'});\n\n\n    }).catch(e => {\n      notification.error({message: util.getErrMsg(e)});\n    });\n  }\n\n  cancelUpdateModal = () => {\n    console.log('in cancal')\n    this.setState({isShowUpdateRepo: false});\n  }\n  showModalUpdateRepo = (repo) => {\n    this.setState({\n      repoToUpdate: repo,\n    }, () => {\n      this.setState({\n        isShowUpdateRepo: true,\n      })\n    });\n  }\n\n  render () {\n    let { repoList, isShowUpdateRepo, modalUpdateConfirmLoading, repoToUpdate } = this.state;\n    return (\n      <div>\n        <RepoHeader\n          addRepo={this.addRepo}\n        />\n        <Content style={{ margin: '0 16px', paddingTop: '20px' }}>\n          <Table dataSource={repoList} pagination={false}>\n            <Column title=\"Name\" dataIndex=\"name\" key=\"name\" />\n            <Column title=\"URL\" dataIndex=\"url\" key=\"url\" />\n            <Column\n              title=\"Action\"\n              key=\"action\"\n              render={(repo, record) => {\n                return (\n                <Space size=\"middle\" key={repo.key}>\n                  <a onClick={() => this.showModalUpdateRepo(repo)}>Update</a>\n                  <a onClick={() => this.deleteRepo(repo)}>Delete</a>\n                </Space>)\n              }}\n            />\n          </Table>\n        </Content>\n        {isShowUpdateRepo &&\n          <ModalUpdateRepo\n            visible={isShowUpdateRepo}\n            updateRepo={this.updateRepo}\n            confirmLoading={modalUpdateConfirmLoading}\n            onCancel={this.cancelUpdateModal}\n            repoToUpdate={repoToUpdate}\n          ></ModalUpdateRepo>\n        }\n      </div>\n    )\n  }\n}\n\nexport default Repos;\n",["84","85"],"/Users/leo/Github/goki/frontend/src/api.js",[],"/Users/leo/Github/goki/frontend/src/page/admin/moddal-update-repo.js",[],"/Users/leo/Github/goki/frontend/src/page/admin/admin.js",[],["86","87"],"/Users/leo/Github/goki/frontend/src/page/toc.js",["88","89","90","91","92","93"],"/Users/leo/Github/goki/frontend/src/util.js",[],["94","95"],"/Users/leo/Github/goki/frontend/src/page/admin/repo-header.js",[],"/Users/leo/Github/goki/frontend/src/page/content.js",["96","97","98","99","100","101","102","103","104"],"/Users/leo/Github/goki/frontend/src/page/header.js",["105","106","107","108"],"import React from 'react';\n\nimport { Layout, Menu } from 'antd';\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Sider } = Layout;\n\n\nclass MyHeader extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { repoList } = this.props;\n    return (\n      <Header className=\"header\">\n        <div className=\"logo\" />\n        {repoList.length > 0 && \n          <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={[String(repoList[0].id)]}>\n            {repoList.map(repo => \n              <Menu.Item \n                key={repo.id}\n                onClick={() => this.props.updateCurRepoID(repo.id)}\n              >{repo.name}\n              </Menu.Item>\n             )}\n          </Menu>\n        }\n      </Header>\n    )\n  }\n}\n\nexport default MyHeader;","/Users/leo/Github/goki/frontend/src/App.js",["109"],"/Users/leo/Github/goki/frontend/src/models/admin-repo.js",["110"],"class AdminRepo {\n  constructor(repo) {\n    let obj = new Object();\n    obj.key = repo.id;\n    obj.name = repo.name;\n    obj.url = repo.url;\n    return obj;\n  }\n}\nexport default AdminRepo;","/Users/leo/Github/goki/frontend/src/index.js",[],"/Users/leo/Github/goki/frontend/src/page/sider.js",["111","112","113","114","115"],"/Users/leo/Github/goki/frontend/src/page/login.js",["116"],{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","severity":1,"message":"122","line":53,"column":19,"nodeType":"123","messageId":"124","endLine":53,"endColumn":21},{"ruleId":"121","severity":1,"message":"125","line":58,"column":11,"nodeType":"126","messageId":"127","endLine":58,"endColumn":18},{"ruleId":"121","severity":1,"message":"125","line":61,"column":11,"nodeType":"126","messageId":"127","endLine":61,"endColumn":18},{"ruleId":"117","replacedBy":"128"},{"ruleId":"119","replacedBy":"129"},{"ruleId":"130","severity":1,"message":"131","line":108,"column":19,"nodeType":"132","endLine":108,"endColumn":69},{"ruleId":"130","severity":1,"message":"131","line":109,"column":19,"nodeType":"132","endLine":109,"endColumn":60},{"ruleId":"117","replacedBy":"133"},{"ruleId":"119","replacedBy":"134"},{"ruleId":"117","replacedBy":"135"},{"ruleId":"119","replacedBy":"136"},{"ruleId":"137","severity":1,"message":"138","line":4,"column":10,"nodeType":"139","messageId":"140","endLine":4,"endColumn":22},{"ruleId":"137","severity":1,"message":"141","line":5,"column":8,"nodeType":"139","messageId":"140","endLine":5,"endColumn":11},{"ruleId":"137","severity":1,"message":"142","line":7,"column":9,"nodeType":"139","messageId":"140","endLine":7,"endColumn":16},{"ruleId":"137","severity":1,"message":"143","line":8,"column":9,"nodeType":"139","messageId":"140","endLine":8,"endColumn":15},{"ruleId":"137","severity":1,"message":"144","line":8,"column":17,"nodeType":"139","messageId":"140","endLine":8,"endColumn":24},{"ruleId":"145","severity":1,"message":"146","line":12,"column":3,"nodeType":"147","messageId":"148","endLine":16,"endColumn":4},{"ruleId":"117","replacedBy":"149"},{"ruleId":"119","replacedBy":"150"},{"ruleId":"137","severity":1,"message":"151","line":4,"column":24,"nodeType":"139","messageId":"140","endLine":4,"endColumn":34},{"ruleId":"137","severity":1,"message":"152","line":5,"column":10,"nodeType":"139","messageId":"140","endLine":5,"endColumn":22},{"ruleId":"137","severity":1,"message":"153","line":5,"column":24,"nodeType":"139","messageId":"140","endLine":5,"endColumn":38},{"ruleId":"137","severity":1,"message":"154","line":5,"column":40,"nodeType":"139","messageId":"140","endLine":5,"endColumn":60},{"ruleId":"137","severity":1,"message":"141","line":10,"column":8,"nodeType":"139","messageId":"140","endLine":10,"endColumn":11},{"ruleId":"137","severity":1,"message":"142","line":17,"column":9,"nodeType":"139","messageId":"140","endLine":17,"endColumn":16},{"ruleId":"137","severity":1,"message":"143","line":18,"column":9,"nodeType":"139","messageId":"140","endLine":18,"endColumn":15},{"ruleId":"137","severity":1,"message":"155","line":18,"column":26,"nodeType":"139","messageId":"140","endLine":18,"endColumn":31},{"ruleId":"145","severity":1,"message":"146","line":24,"column":3,"nodeType":"147","messageId":"148","endLine":26,"endColumn":4},{"ruleId":"137","severity":1,"message":"142","line":5,"column":9,"nodeType":"139","messageId":"140","endLine":5,"endColumn":16},{"ruleId":"137","severity":1,"message":"144","line":6,"column":17,"nodeType":"139","messageId":"140","endLine":6,"endColumn":24},{"ruleId":"137","severity":1,"message":"155","line":6,"column":26,"nodeType":"139","messageId":"140","endLine":6,"endColumn":31},{"ruleId":"145","severity":1,"message":"146","line":11,"column":3,"nodeType":"147","messageId":"148","endLine":13,"endColumn":4},{"ruleId":null,"fatal":true,"severity":2,"message":"156","line":32,"column":7},{"ruleId":"157","severity":1,"message":"158","line":3,"column":15,"nodeType":"159","messageId":"160","endLine":3,"endColumn":27},{"ruleId":"137","severity":1,"message":"151","line":3,"column":24,"nodeType":"139","messageId":"140","endLine":3,"endColumn":34},{"ruleId":"137","severity":1,"message":"138","line":4,"column":10,"nodeType":"139","messageId":"140","endLine":4,"endColumn":22},{"ruleId":"137","severity":1,"message":"141","line":5,"column":8,"nodeType":"139","messageId":"140","endLine":5,"endColumn":11},{"ruleId":"137","severity":1,"message":"143","line":8,"column":9,"nodeType":"139","messageId":"140","endLine":8,"endColumn":15},{"ruleId":"137","severity":1,"message":"144","line":8,"column":17,"nodeType":"139","messageId":"140","endLine":8,"endColumn":24},{"ruleId":"137","severity":1,"message":"161","line":1,"column":31,"nodeType":"139","messageId":"140","endLine":1,"endColumn":39},"no-native-reassign",["162"],"no-negated-in-lhs",["163"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","Array.prototype.map() expects a return value from arrow function.","ReturnStatement","expectedReturnValue",["162"],["163"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["162"],["163"],["162"],["163"],"no-unused-vars","'FolderFilled' is defined but never used.","Identifier","unusedVar","'api' is defined but never used.","'SubMenu' is assigned a value but never used.","'Header' is assigned a value but never used.","'Content' is assigned a value but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor",["162"],["163"],"'Breadcrumb' is defined but never used.","'UserOutlined' is defined but never used.","'LaptopOutlined' is defined but never used.","'NotificationOutlined' is defined but never used.","'Sider' is assigned a value but never used.","Parsing error: Unexpected token, expected \":\"\n\n\u001b[0m \u001b[90m 30 | \u001b[39m      \u001b[36mcase\u001b[39m \u001b[32m'/admin'\u001b[39m\u001b[33m:\u001b[39m \u001b[33mChild\u001b[39m \u001b[33m=\u001b[39m \u001b[33mAdmin\u001b[39m\u001b[33m;\u001b[39m \u001b[36mbreak\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 31 | \u001b[39m      \u001b[36mcase\u001b[39m \u001b[32m'/login'\u001b[39m\u001b[0m\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 32 | \u001b[39m      \u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m      \u001b[33mChild\u001b[39m \u001b[33m=\u001b[39m \u001b[33mHome\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m    | \u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 33 | \u001b[39m    }\u001b[0m\n\u001b[0m \u001b[90m 34 | \u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 35 | \u001b[39m    \u001b[36mreturn\u001b[39m (\u001b[0m","no-new-object","The object literal notation {} is preferrable.","NewExpression","preferLiteral","'Checkbox' is defined but never used.","no-global-assign","no-unsafe-negation"]